<div *ngIf="!productDetails" class="container">
  <div class="text-center">
    <div class="spinner-border text-light" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>

<div *ngIf="productDetails" class="container mt-5 rounded-3 p-3">
  <div class="row">
    <div class="col-md-6">
      <img
        [src]="productDetails?.thumbnail"
        class="img-fluid zoom-in"
        [alt]="productDetails?.title"
      />
    </div>
    <div class="col-md-6 text-light">
      <h1 class="mb-4 fade-in text-warning">{{ productDetails?.title }}</h1>
      <p class="text-info fade-in">Rating: {{ productDetails?.rating }}</p>
      <p class="text-light fade-in">{{ productDetails?.description }}</p>
      <h3 class="text-light mt-4 fade-in">{{ productDetails?.price }} $</h3>

      <div class="quantity mt-4 fade-in d-flex align-items-center">
        <button class="btn btn-primary" (click)="decreaseQuantity()">-</button>
        <span class="mx-2">{{ quantity }}</span>
        <button class="btn btn-primary" (click)="increaseQuantity()">+</button>
      </div>

      <p class="mt-3 text-light fade-in">
        Stock: {{ productDetails?.stock - quantity }}
      </p>
      <div class="d-flex align-items-center justify-content-between">
        <h3 class="text-light mt-4 fade-in">Total: {{ totalPrice }} $</h3>
        <button
          class="btn btn-success mt-3 pulse"
          [disabled]="quantity <= 0 || quantity > productDetails?.stock"
          (click)="addToCart()"
        >
          Add To Cart
        </button>
      </div>
    </div>
  </div>
</div>
